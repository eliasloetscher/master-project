import numpy as np
import matplotlib.pyplot as plt
import time
import tkinter as tk
from labjack import ljm
from devices.labjack_t7pro import LabjackConnection
from devices.electrometer_keysight_b2985a import ElectrometerControl
import matplotlib.backends.backend_tkagg as tkagg
from matplotlib.backends.backend_tkagg import NavigationToolbar2Tk
from gui_classes.auto_run_frame import AutoRunFrame
from sklearn.linear_model import LinearRegression
import scipy.optimize
import statistics


"""
x = np.array([1, 2])
x = x.reshape(-1, 1)

y = np.array([2, 5])
model = LinearRegression()
model.fit(x,y)

print(x)
print("y-Achsen-Abschnitt:", model.intercept_)
print("Steigung:", model.coef_)
print("RÂ²:", model.score(x, y))

data_x = [0, 1.5, 2.2, 3.3]
data_y = [0, 5, 10, 15]

print(data_x-data_y)

data_x_even = []
data_y_even = []

for n in range(len(data_x)):
    if data_x[n] > n:
        data_x_even.append(n)
        x = np.array([data_x[n-1], data_x[n]])
        x = x.reshape(-1, 1)
        y = np.array([data_y[n-1], data_y[n]])
        model.fit(x, y)
        data_y_even.append(round(model.coef_[0]*n + model.intercept_, 2))

print(data_x_even)
print(data_y_even)


data_time = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
data_points = [0, 1, 0, 3, 0, 0, 6, 7, 8, 0]

for i in range(0, len(data_time)):
    index_mirrored = len(data_time) - i - 1
    if data_points[index_mirrored] == 0:
        del (data_points[index_mirrored])
        del (data_time[index_mirrored])

print(data_time)
print(data_points)



class App:
    def __init__(self, master):
        # VARIABLES
        self.inputFile = ""
        self.fig = plt.Figure()

        self.canvas = tkagg.FigureCanvasTkAgg(self.fig, master = master)
        self.canvas.get_tk_widget().pack()

        self.axes = self.fig.add_subplot(111)
        x_array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        y_array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        self.line, = self.axes.plot(x_array, y_array)
        NavigationToolbar2Tk(self.canvas, root)

        self.canvas.draw()

        subplots[i].plot(range(len(self.overview_data[i])), self.overview_data[i])

        # FRAME
        frame = tk.Frame(master)
        master.title("MassyTools 0.1.1 (Alpha)")


root = tk.Tk()
app = App(root)
root.mainloop()





#instance = ElectrometerControl()
"""
"""
instance.set_speed('quick')
i = 0
while True:
    print(instance.get_current())
    time.sleep(1)
    i += 1
    if i == 5:
        break

instance.set_speed('normal')
i=0
print("normal")
while True:
    print(instance.get_current())
    time.sleep(1)
    i += 1
    if i == 5:
        break
"""


"""
x_points = [0, 10, 50, 100, 250, 500, 750, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000]
y_points = [-1.84866666666667, 1.70233333333333, 1.33166666666667, 1.88311475409836, 3.83868852459022,
            7.41711864406767, 10.674833333333, 13.5113333333334, 21.5909836065575,
            29.8405084745759, 38.9045000000001, 49.3759999999997, 60.0450819672137,
            72.4371666666661, 85.5864406779665, 98.2680327868857]




def fit_func(x, a, b, c, d, e):
    return a*np.exp(-x/b) + c*np.exp(-x/d) + e


x_points = [14.13, 17.31, 20.5, 23.68, 26.86, 30.04, 33.22, 36.4, 39.58, 42.75, 45.93, 49.11, 52.29, 55.48, 58.65, 61.84, 65.02, 68.21, 71.38, 74.56, 77.74, 80.93, 84.1, 87.28, 90.46, 93.65, 96.83, 100.01, 103.19, 106.38, 109.56, 112.75, 115.93, 119.1, 122.29, 125.47, 128.65, 131.84, 135.03, 138.2, 141.39, 144.57, 147.75, 150.94, 154.13, 157.31, 160.49, 163.67, 166.86, 170.04, 173.22, 176.41, 179.58, 182.76, 185.95, 189.13, 192.32, 195.5, 198.68, 201.87, 205.05, 208.22, 211.4, 214.59, 217.76, 220.95, 224.13, 227.32, 230.5, 233.68, 236.86, 240.05, 243.22, 246.41, 249.58, 252.76, 255.94, 259.12, 262.31, 265.5, 268.68, 271.87, 275.05, 278.23, 281.4, 284.57, 287.76, 290.93, 294.11, 297.3, 300.49, 303.67, 306.86, 310.03, 313.21, 316.39, 319.58, 322.76, 325.93, 329.11, 332.29, 335.48, 338.67, 341.84, 345.02, 348.21, 351.39, 354.57, 357.76, 360.94, 364.12, 367.31, 370.49, 373.68, 376.86, 380.05, 383.22, 386.4, 389.59, 392.77, 395.96, 399.13, 402.32, 405.51, 408.69, 411.88, 415.06, 418.24, 421.42, 424.6, 427.77, 430.96, 434.14, 437.32, 440.51, 443.69, 446.87, 450.05, 453.24, 456.42, 459.61, 462.79, 465.97, 469.15, 472.33, 475.51, 478.7, 481.88, 485.06, 488.25, 491.43, 494.61, 497.79, 500.98, 504.15, 507.34, 510.52, 513.71, 516.89, 520.08, 523.26, 526.45, 529.63, 532.82, 536.0, 539.19, 542.37, 545.55, 548.73, 551.91, 555.09, 558.27, 561.45, 564.63, 567.82, 571.0, 574.18, 577.36, 580.54, 583.71, 586.89, 590.08, 593.25, 596.43, 599.61, 602.79, 605.96, 609.14, 612.33, 615.51, 618.69, 621.87, 625.05, 628.22, 631.41, 634.6, 637.78, 640.96, 644.14, 647.33, 650.5, 653.68, 656.86, 660.04, 663.23, 666.41, 669.59, 672.77, 675.96, 679.13, 682.32, 685.5, 688.67, 691.84, 695.03, 698.2, 701.38, 704.55, 707.74, 710.9, 714.09, 717.27, 720.45, 723.63, 726.81, 729.98, 733.16, 736.34, 739.51, 742.69, 745.86, 749.03, 752.21, 755.4, 758.58, 761.76, 764.94, 768.12, 771.3, 774.48, 777.66, 780.84, 784.02, 787.2, 790.39, 793.57, 796.75, 799.93, 803.13, 806.3, 809.49, 812.67, 815.85, 819.04, 822.2, 825.39, 828.56, 831.75, 834.92, 838.11, 841.29, 844.48, 847.66, 850.84, 854.03, 857.21, 860.4, 863.58, 866.77, 869.95, 873.13, 876.31, 879.48, 882.67, 885.86, 889.04, 892.22, 895.4, 898.58, 901.76, 904.93, 908.11, 911.28, 914.46, 917.65, 920.83, 924.01, 927.19, 930.37, 933.55, 936.73, 939.91, 943.1, 946.28, 949.46, 952.64, 955.82, 959.0, 962.19, 965.38, 968.56, 971.75, 974.93, 978.12, 981.3, 984.48, 987.66, 990.83, 994.02, 997.2, 1000.38, 1003.56, 1006.75, 1009.93, 1013.11, 1016.3, 1019.48, 1022.66, 1025.85, 1029.03, 1032.22, 1035.4, 1038.57, 1041.76, 1044.94, 1048.12, 1051.31, 1054.49, 1057.68, 1060.85, 1064.04, 1067.22, 1070.4, 1073.58, 1076.76, 1079.94, 1083.12, 1086.3, 1089.48, 1092.67, 1095.84, 1099.02, 1102.2, 1105.39, 1108.57, 1111.75, 1114.93, 1118.12, 1121.31, 1124.48, 1127.66, 1130.85, 1134.03, 1137.21, 1140.4, 1143.59, 1146.77, 1149.95, 1153.13, 1156.32, 1159.5, 1162.69, 1165.87, 1169.05, 1172.23, 1175.42, 1178.6, 1181.79, 1184.97, 1188.15, 1191.34, 1194.53, 1197.71, 1200.9, 1204.08, 1207.26, 1210.44, 1213.62, 1216.79, 1219.97, 1223.15, 1226.33, 1229.51, 1232.7, 1235.88, 1239.06, 1242.24, 1245.42, 1248.61, 1251.79, 1254.98, 1258.17, 1261.35, 1264.54, 1267.72, 1270.9, 1274.08, 1277.26, 1280.44, 1283.63, 1286.82, 1290.0, 1293.18, 1296.37, 1299.54, 1302.72, 1305.9, 1309.1, 1312.28, 1315.47, 1318.65, 1321.84, 1325.02, 1328.21, 1331.39, 1334.57, 1337.75, 1340.93, 1344.12, 1347.3, 1350.48, 1353.67, 1356.85, 1360.02, 1363.21, 1366.39, 1369.57, 1372.75, 1375.94, 1379.12, 1382.3, 1385.48, 1388.68, 1391.86, 1395.04, 1398.21, 1401.39, 1404.57, 1407.76, 1410.94, 1414.12, 1417.3, 1420.49, 1423.67, 1426.85, 1430.03, 1433.22, 1436.39, 1439.58, 1442.76, 1445.95, 1449.13, 1452.31, 1455.48, 1458.67, 1461.85, 1465.04, 1468.22, 1471.41, 1474.59, 1477.78, 1480.96, 1484.14, 1487.33, 1490.51, 1493.69, 1496.87, 1500.05, 1503.23, 1506.41, 1509.59, 1512.77, 1515.95, 1519.13, 1522.32, 1525.5, 1528.67, 1531.85, 1535.03, 1538.21, 1541.4, 1544.58, 1547.76, 1550.94, 1554.12, 1557.31, 1560.49, 1563.67, 1566.85, 1570.03, 1573.2, 1576.39, 1579.57, 1582.75, 1585.93, 1589.12, 1592.3, 1595.48, 1598.66, 1601.84, 1605.02, 1608.2, 1611.38, 1614.56, 1617.74, 1620.92, 1624.11, 1627.29, 1630.47, 1633.65, 1636.83, 1640.01, 1643.19, 1646.37, 1649.56, 1652.74, 1655.92, 1659.09, 1662.28, 1665.47, 1668.64, 1671.83, 1675.01, 1678.18, 1681.37, 1684.55, 1687.74, 1690.92, 1694.1, 1697.28, 1700.46, 1703.65, 1706.83, 1710.01, 1713.2, 1716.38, 1719.56, 1722.74, 1725.92, 1729.1, 1732.29, 1735.47, 1738.64, 1741.83, 1745.01, 1748.19, 1751.37, 1754.55, 1757.73, 1760.91, 1764.09, 1767.27, 1770.46, 1773.63, 1776.82, 1780.01, 1783.18, 1786.37, 1789.55, 1792.73, 1795.91, 1799.09, 1802.27, 1805.45, 1808.64, 1811.82, 1814.99, 1818.17, 1821.35, 1824.53, 1827.71, 1830.89, 1834.08, 1837.25, 1840.43, 1843.61, 1846.78, 1849.96, 1853.14, 1856.32, 1859.5, 1862.68, 1865.86, 1869.04, 1872.22, 1875.4, 1878.58, 1881.77, 1884.95, 1888.13, 1891.32, 1894.49, 1897.67, 1900.86, 1904.04, 1907.22, 1910.41, 1913.59, 1916.78, 1919.96, 1923.14, 1926.33, 1929.51, 1932.69, 1935.87, 1939.04, 1942.23, 1945.41, 1948.59, 1951.77, 1954.95, 1958.14, 1961.32, 1964.5, 1967.68, 1970.86, 1974.04, 1977.23, 1980.41, 1983.6, 1986.78, 1989.96, 1993.15, 1996.33, 1999.52, 2002.71, 2005.89, 2009.06, 2012.25, 2015.43, 2018.61, 2021.78, 2024.97, 2028.14, 2031.33, 2034.51, 2037.69, 2040.87, 2044.06, 2047.23, 2050.42, 2053.59, 2056.78, 2059.95, 2063.14, 2066.32, 2069.49, 2072.68, 2075.85, 2079.03, 2082.2, 2085.39, 2088.57, 2091.76, 2094.94, 2098.12, 2101.3, 2104.48, 2107.67, 2110.84, 2114.02, 2117.21, 2120.39, 2123.58, 2126.76, 2129.94, 2133.12, 2136.3, 2139.49, 2142.68, 2145.85, 2149.03, 2152.2, 2155.38, 2158.55, 2161.74, 2164.93, 2168.1, 2171.28, 2174.47, 2177.65, 2180.83, 2184.02, 2187.19, 2190.37, 2193.55, 2196.74, 2199.92, 2203.09, 2206.28, 2209.46, 2212.64, 2215.83, 2219.01, 2222.19, 2225.38, 2228.57, 2231.74, 2234.93, 2238.11, 2241.29, 2244.48, 2247.66, 2250.83, 2254.01, 2257.2, 2260.37, 2263.56, 2266.74, 2269.92, 2273.1, 2276.28, 2279.46, 2282.64, 2285.83, 2289.01, 2292.19, 2295.37, 2298.56, 2301.74, 2304.92, 2308.1, 2311.29, 2314.47, 2317.66, 2320.83, 2324.01, 2327.19, 2330.37, 2333.56, 2336.73, 2339.92, 2343.09, 2346.28, 2349.46, 2352.64, 2355.82, 2359.0, 2362.18, 2365.36, 2368.54, 2371.73, 2374.91, 2378.09, 2381.28, 2384.46, 2387.64, 2390.82, 2394.0, 2397.18, 2400.36, 2403.53, 2406.72, 2409.9, 2413.07, 2416.26, 2419.45, 2422.63, 2425.82, 2428.99, 2432.17, 2435.35, 2438.53, 2441.72, 2444.9, 2448.07, 2451.25, 2454.43, 2457.6, 2460.79, 2463.97, 2467.15, 2470.32, 2473.51, 2476.69, 2479.87, 2483.05, 2486.23, 2489.41, 2492.59, 2495.78, 2498.96, 2502.14, 2505.32, 2508.5, 2511.68, 2514.86, 2518.04, 2521.22, 2524.41, 2527.58, 2530.77, 2533.95, 2537.13, 2540.32, 2543.5, 2546.68, 2549.87, 2553.04, 2556.23, 2559.41, 2562.59, 2565.78, 2568.96, 2572.14, 2575.32, 2578.51, 2581.68, 2584.87, 2588.04, 2591.22, 2594.41, 2597.59, 2600.77, 2603.95, 2607.14, 2610.31, 2613.5, 2616.69, 2619.87, 2623.06, 2626.24, 2629.42, 2632.6, 2635.78, 2638.96, 2642.14, 2645.32, 2648.5, 2651.68, 2654.86, 2658.05, 2661.22, 2664.41, 2667.58, 2670.76, 2673.93, 2677.12, 2680.3, 2683.49, 2686.66, 2689.84, 2693.02, 2696.2, 2699.38, 2702.57, 2705.75, 2708.93, 2712.11, 2715.3, 2718.49, 2721.68, 2724.85, 2728.03, 2731.22, 2734.39, 2737.57, 2740.76, 2743.93, 2747.12, 2750.3, 2753.48, 2756.66, 2759.84, 2763.02, 2766.2, 2769.38, 2772.55, 2775.74, 2778.91, 2782.08, 2785.26, 2788.45, 2791.64, 2794.82, 2798.0, 2801.18, 2804.36, 2807.54, 2810.72, 2813.9, 2817.08, 2820.26, 2823.45, 2826.63, 2829.8, 2832.99, 2836.17, 2839.36, 2842.54, 2845.72, 2848.91, 2852.09, 2855.27, 2858.45, 2861.63, 2864.82, 2867.99, 2871.18, 2874.35, 2877.53, 2880.72, 2883.9, 2887.08, 2890.26, 2893.45, 2896.63, 2899.82, 2902.99, 2906.18, 2909.36, 2912.55, 2915.73, 2918.9, 2922.09, 2925.26, 2928.44, 2931.63, 2934.82, 2937.99, 2941.17, 2944.35, 2947.53, 2950.72, 2953.91, 2957.08, 2960.26, 2963.45, 2966.62, 2969.81, 2972.98, 2976.16, 2979.34, 2982.53, 2985.72, 2988.9, 2992.08, 2995.26, 2998.45, 3001.63, 3004.82, 3008.01, 3011.19, 3014.37, 3017.56, 3020.74, 3023.92, 3027.1, 3030.28, 3033.47, 3036.65, 3039.84, 3043.02, 3046.2, 3049.38, 3052.56, 3055.75, 3058.93, 3062.11, 3065.3, 3068.48, 3071.66, 3074.85, 3078.03, 3081.21, 3084.39, 3087.57, 3090.74, 3093.93, 3097.11, 3100.28, 3103.47, 3106.65, 3109.82, 3113.0, 3116.2, 3119.37, 3122.56, 3125.73, 3128.93, 3132.1, 3135.28, 3138.46, 3141.65, 3144.83, 3148.01, 3151.2, 3154.37, 3157.56, 3160.73, 3163.92, 3167.1, 3170.28, 3173.46, 3176.64, 3179.82, 3183.01, 3186.19, 3189.37, 3192.56, 3195.74, 3198.93, 3202.11, 3205.29, 3208.48, 3211.66, 3214.84, 3218.02, 3221.21, 3224.39, 3227.56, 3230.75, 3233.93, 3237.11, 3240.29, 3243.48, 3246.65, 3249.83, 3253.01, 3256.2, 3259.39, 3262.56, 3265.74, 3268.94, 3272.12, 3275.3, 3278.48, 3281.67, 3284.85, 3288.03, 3291.21, 3294.39, 3297.57, 3300.75, 3303.93, 3307.12, 3310.3, 3313.48, 3316.67, 3319.85, 3323.04, 3326.21, 3329.39, 3332.57, 3335.76, 3338.93, 3342.12, 3345.29, 3348.48, 3351.67, 3354.86, 3358.03, 3361.21, 3364.39, 3367.57, 3370.76, 3373.94, 3377.12, 3380.31, 3383.49, 3386.68, 3389.86, 3393.03, 3396.22, 3399.38, 3402.57, 3405.75, 3408.93, 3412.11, 3415.29, 3418.48, 3421.66, 3424.85, 3428.02, 3431.21, 3434.39, 3437.57, 3440.74, 3443.93, 3447.11, 3450.3, 3453.48, 3456.66, 3459.84, 3463.02, 3466.2, 3469.38, 3472.57, 3475.75, 3478.93, 3482.12, 3485.29, 3488.47, 3491.66, 3494.84, 3498.02, 3501.21, 3504.39, 3507.56, 3510.74, 3513.92, 3517.11, 3520.29, 3523.47, 3526.64, 3529.83, 3533.01, 3536.2, 3539.39, 3542.57, 3545.75, 3548.94, 3552.12, 3555.29, 3558.47, 3561.65, 3564.84, 3568.02]
y_points = [100.15, 89.62, 81.29, 63.62, 70.29, 66.02, 62.47, 59.07, 56.74, 55.56, 64.82, 63.05, 60.77, 57.91, 56.15, 53.88, 51.45, 49.82, 48.03, 46.52, 44.63, 42.86, 41.86, 41.16, 40.75, 39.95, 38.92, 38.15, 37.48, 36.74, 36.03, 35.2, 34.48, 33.73, 32.91, 32.55, 32.31, 31.95, 31.38, 30.52, 29.91, 29.62, 29.24, 28.91, 28.68, 28.68, 28.36, 27.88, 27.44, 27.09, 26.88, 26.57, 26.15, 25.95, 25.73, 25.38, 25.02, 24.7, 24.53, 24.28, 24.0, 23.75, 23.43, 23.27, 23.13, 22.74, 22.43, 22.21, 21.98, 21.8, 21.75, 21.57, 21.4, 21.21, 21.09, 20.86, 20.86, 20.68, 20.58, 20.48, 20.25, 20.03, 19.91, 19.76, 19.56, 19.39, 19.36, 19.23, 19.1, 19.02, 18.93, 18.81, 18.63, 18.52, 18.43, 18.27, 18.06, 17.93, 17.86, 17.76, 17.62, 17.44, 17.32, 17.19, 17.06, 16.98, 16.9, 16.84, 16.77, 16.71, 16.56, 16.45, 16.37, 16.27, 16.23, 16.15, 16.06, 16.03, 15.98, 15.98, 15.92, 15.75, 15.54, 15.45, 15.34, 15.24, 15.17, 15.11, 15.09, 15.08, 15.05, 14.97, 14.75, 14.58, 14.57, 14.48, 14.36, 14.31, 14.31, 14.27, 14.22, 14.2, 14.19, 14.09, 14.09, 13.88, 13.75, 13.68, 13.62, 13.59, 13.62, 13.62, 13.62, 13.59, 13.54, 13.48, 13.4, 13.4, 13.32, 13.27, 13.23, 13.18, 13.08, 12.97, 12.89, 12.86, 12.82, 12.82, 12.8, 12.69, 12.49, 12.44, 12.41, 12.39, 12.39, 12.37, 12.34, 12.29, 12.23, 12.19, 12.16, 12.07, 12.07, 11.98, 11.96, 11.9, 11.81, 11.81, 11.75, 11.69, 11.65, 11.61, 11.61, 11.61, 11.56, 11.52, 11.53, 11.46, 11.42, 11.42, 11.42, 11.38, 11.38, 11.29, 11.23, 11.2, 11.16, 11.11, 10.99, 10.88, 10.83, 10.77, 10.77, 10.77, 10.77, 10.73, 10.71, 10.71, 10.71, 10.71, 10.7, 10.66, 10.57, 10.5, 10.44, 10.44, 10.39, 10.39, 10.33, 10.3, 10.27, 10.27, 10.25, 10.22, 10.22, 10.22, 10.14, 10.07, 10.06, 10.06, 10.05, 10.04, 10.02, 10.02, 9.97, 9.92, 9.82, 9.92, 9.82, 9.72, 9.66, 9.65, 9.65, 9.61, 9.54, 9.5, 9.5, 9.49, 9.5, 9.5, 9.49, 9.49, 9.45, 9.4, 9.4, 9.4, 9.38, 9.35, 9.27, 9.18, 9.18, 9.18, 9.18, 9.18, 9.18, 9.14, 9.13, 9.13, 9.09, 9.04, 9.0, 8.97, 8.95, 8.95, 8.95, 8.91, 8.89, 8.92, 8.89, 8.92, 8.92, 8.89, 8.89, 8.89, 8.85, 8.79, 8.75, 8.71, 8.64, 8.64, 8.7, 8.64, 8.6, 8.56, 8.52, 8.57, 8.52, 8.52, 8.5, 8.49, 8.46, 8.43, 8.46, 8.42, 8.45, 8.41, 8.43, 8.41, 8.38, 8.34, 8.34, 8.38, 8.34, 8.25, 8.2, 8.18, 8.09, 8.09, 8.06, 8.06, 8.06, 8.05, 8.03, 8.0, 7.93, 7.95, 7.95, 7.94, 7.89, 7.86, 7.86, 7.83, 7.79, 7.86, 7.83, 7.83, 7.78, 7.74, 7.73, 7.73, 7.71, 7.71, 7.71, 7.71, 7.68, 7.63, 7.63, 7.56, 7.56, 7.56, 7.56, 7.56, 7.5, 7.44, 7.44, 7.41, 7.41, 7.41, 7.41, 7.41, 7.43, 7.46, 7.46, 7.46, 7.43, 7.38, 7.3, 7.3, 7.26, 7.26, 7.26, 7.21, 7.18, 7.12, 7.12, 7.12, 7.12, 7.15, 7.12, 7.12, 7.12, 7.17, 7.2, 7.2, 7.17, 7.17, 7.17, 7.1, 7.1, 7.06, 7.06, 7.04, 7.01, 7.01, 7.01, 7.03, 6.97, 6.97, 6.95, 6.95, 6.95, 6.93, 6.89, 6.87, 6.82, 6.82, 6.82, 6.87, 6.82, 6.87, 6.87, 6.82, 6.88, 6.88, 6.86, 6.86, 6.86, 6.76, 6.74, 6.72, 6.72, 6.72, 6.71, 6.72, 6.71, 6.7, 6.7, 6.71, 6.69, 6.66, 6.65, 6.65, 6.68, 6.64, 6.6, 6.63, 6.6, 6.54, 6.6, 6.55, 6.55, 6.55, 6.55, 6.53, 6.53, 6.53, 6.58, 6.58, 6.58, 6.58, 6.58, 6.58, 6.47, 6.43, 6.46, 6.4, 6.4, 6.38, 6.32, 6.32, 6.31, 6.32, 6.29, 6.29, 6.27, 6.29, 6.29, 6.27, 6.27, 6.27, 6.25, 6.25, 6.26, 6.22, 6.22, 6.21, 6.21, 6.14, 6.16, 6.18, 6.18, 6.09, 6.09, 6.09, 6.06, 6.11, 6.11, 6.11, 6.1, 6.08, 6.08, 6.08, 6.08, 6.08, 6.08, 6.01, 5.93, 5.89, 5.89, 5.91, 5.91, 5.89, 5.85, 5.89, 5.89, 5.95, 5.95, 5.95, 5.9, 5.9, 5.84, 5.85, 5.92, 5.85, 5.85, 5.83, 5.83, 5.85, 5.87, 5.85, 5.81, 5.75, 5.75, 5.76, 5.76, 5.76, 5.76, 5.75, 5.75, 5.75, 5.75, 5.76, 5.76, 5.75, 5.75, 5.79, 5.79, 5.79, 5.78, 5.78, 5.74, 5.74, 5.72, 5.72, 5.72, 5.62, 5.51, 5.56, 5.49, 5.56, 5.62, 5.62, 5.59, 5.59, 5.58, 5.58, 5.59, 5.59, 5.59, 5.58, 5.58, 5.5, 5.45, 5.39, 5.39, 5.45, 5.45, 5.45, 5.52, 5.54, 5.51, 5.54, 5.54, 5.54, 5.55, 5.55, 5.5, 5.4, 5.39, 5.39, 5.39, 5.34, 5.38, 5.34, 5.34, 5.33, 5.32, 5.32, 5.32, 5.31, 5.28, 5.28, 5.28, 5.25, 5.26, 5.26, 5.26, 5.26, 5.21, 5.21, 5.21, 5.21, 5.16, 5.21, 5.2, 5.22, 5.21, 5.18, 5.21, 5.22, 5.22, 5.21, 5.21, 5.19, 5.18, 5.14, 5.14, 5.18, 5.12, 5.12, 5.0, 5.11, 5.11, 5.11, 5.14, 5.14, 5.14, 5.08, 5.06, 4.97, 4.97, 4.95, 4.95, 4.97, 4.97, 4.97, 4.97, 4.97, 4.97, 4.97, 5.0, 5.0, 5.0, 5.02, 5.02, 5.02, 5.02, 5.03, 5.03, 5.06, 5.06, 5.11, 5.06, 5.06, 5.03, 5.03, 5.0, 4.96, 5.0, 4.96, 4.95, 4.95, 4.95, 4.92, 4.88, 4.91, 4.91, 4.93, 4.9, 4.88, 4.9, 4.88, 4.8, 4.87, 4.87, 4.87, 4.84, 4.81, 4.81, 4.81, 4.81, 4.84, 4.85, 4.87, 4.91, 4.87, 4.91, 4.91, 4.87, 4.87, 4.88, 4.87, 4.87, 4.84, 4.78, 4.79, 4.76, 4.79, 4.79, 4.76, 4.76, 4.76, 4.76, 4.71, 4.72, 4.72, 4.68, 4.64, 4.67, 4.67, 4.67, 4.68, 4.68, 4.7, 4.69, 4.63, 4.69, 4.71, 4.71, 4.74, 4.77, 4.77, 4.76, 4.72, 4.72, 4.72, 4.68, 4.62, 4.53, 4.53, 4.51, 4.53, 4.54, 4.53, 4.53, 4.54, 4.54, 4.53, 4.53, 4.5, 4.49, 4.49, 4.49, 4.46, 4.45, 4.45, 4.45, 4.46, 4.52, 4.54, 4.54, 4.51, 4.46, 4.51, 4.53, 4.51, 4.49, 4.49, 4.49, 4.44, 4.47, 4.47, 4.47, 4.45, 4.45, 4.42, 4.44, 4.44, 4.44, 4.44, 4.44, 4.43, 4.43, 4.43, 4.41, 4.41, 4.39, 4.41, 4.41, 4.41, 4.41, 4.37, 4.41, 4.43, 4.43, 4.43, 4.45, 4.53, 4.45, 4.45, 4.32, 4.32, 4.32, 4.2, 4.18, 4.31, 4.23, 4.23, 4.25, 4.17, 4.25, 4.25, 4.18, 4.25, 4.25, 4.25, 4.28, 4.18, 4.19, 4.19, 4.19, 4.23, 4.23, 4.21, 4.21, 4.21, 4.18, 4.21, 4.23, 4.26, 4.25, 4.22, 4.22, 4.25, 4.3, 4.38, 4.43, 4.38, 4.3, 4.25, 4.22, 4.25, 4.31, 4.25, 4.25, 4.22, 4.2, 4.22, 4.2, 4.2, 4.2, 4.17, 4.17, 4.11, 4.03, 4.11, 4.11, 4.11, 4.06, 4.06, 4.04, 4.04, 4.04, 4.14, 4.14, 4.13, 4.11, 4.09, 4.11, 4.11, 4.11, 4.09, 4.09, 4.08, 4.08, 4.08, 4.09, 4.09, 4.08, 4.09, 4.12, 4.12, 4.11, 4.11, 4.11, 4.11, 4.11, 4.12, 4.13, 4.12, 4.08, 4.09, 4.12, 4.15, 4.12, 4.14, 4.12, 4.1, 4.07, 4.07, 4.07, 4.02, 3.95, 3.95, 3.93, 3.93, 4.02, 3.93, 3.93, 4.05, 4.0, 4.06, 4.06, 3.99, 4.03, 3.99, 3.92, 3.99, 3.92, 3.85, 3.88, 3.83, 3.83, 3.87, 3.79, 3.87, 3.95, 3.91, 3.95, 3.95, 3.96, 3.96, 3.92, 3.92, 3.96, 3.92, 3.87, 3.84, 3.84, 3.82, 3.82, 3.82, 3.88, 3.84, 3.79, 3.84, 3.8, 3.87, 3.87, 3.88, 3.88, 3.88, 3.86, 3.81, 3.81, 3.81, 3.87, 3.87, 3.87, 3.88, 3.8, 3.86, 3.86, 3.86, 3.87, 3.86, 3.81, 3.75, 3.75, 3.71, 3.75, 3.71, 3.73, 3.81, 3.81, 3.87, 3.88, 3.88, 3.87, 3.88, 3.87, 3.9, 3.87, 3.82, 3.7, 3.65, 3.61, 3.61, 3.61, 3.58, 3.6, 3.6, 3.6, 3.6, 3.63, 3.71, 3.79, 3.83, 3.84, 3.84, 3.88, 3.84, 3.88, 3.88, 3.84, 3.81, 3.79, 3.74, 3.71, 3.71, 3.71, 3.69, 3.64, 3.64, 3.64, 3.68, 3.71, 3.66, 3.7, 3.7, 3.65, 3.7, 3.7, 3.69, 3.69, 3.65, 3.62, 3.62, 3.62, 3.65, 3.69, 3.65, 3.67, 3.63, 3.63, 3.67, 3.71, 3.71, 3.69, 3.69, 3.69, 3.7, 3.7, 3.7, 3.63, 3.63, 3.63, 3.69, 3.69, 3.63, 3.58, 3.52, 3.52, 3.56, 3.56, 3.56, 3.56, 3.56, 3.56, 3.58, 3.58, 3.59, 3.58, 3.59, 3.59, 3.59, 3.54, 3.49, 3.5, 3.5, 3.5, 3.5, 3.49, 3.43, 3.49, 3.43, 3.49, 3.45, 3.46, 3.38, 3.45, 3.45, 3.45, 3.51, 3.45, 3.48, 3.48, 3.51, 3.48, 3.48, 3.44, 3.44, 3.44, 3.4, 3.44, 3.4, 3.4, 3.38, 3.4, 3.42, 3.42, 3.38, 3.42, 3.42, 3.42, 3.48, 3.42, 3.42, 3.4, 3.37, 3.37, 3.41, 3.41, 3.45, 3.44, 3.44, 3.44, 3.45]


for m in range(2):
    list_length = len(x_points)
    for i in range(10, len(x_points)):
        index_mirrored = list_length - i - 1
        if i%2 == 0:
            del(x_points[index_mirrored])
            del(y_points[index_mirrored])

# perform the fit
p0 = [1, 1, 1, 1, 0] # start with values near those we expect
popt, pcov = scipy.optimize.curve_fit(fit_func, x_points, y_points, p0)

plt.scatter(x_points, y_points, color="red")
x = np.linspace(0, 3500, 1000)
plt.plot(x, fit_func(x, *popt))
plt.show()


result = np.polyfit(x_points, y_points, 3)

print(result)

x = np.linspace(0, 3500, 350)
# func = result[0] * pow(x, 2) + result[1] * x + result[2]
func = result[0] * pow(x, 3) + result[1] * pow(x, 2) + result[2] * x + result[3]
# func = result[0]*pow(x, 5) + result[1]*pow(x, 4) + result[2]*pow(x, 3) + result[3]*pow(x, 2) + result[4]*x + result[5]
plt.plot(x, func)
plt.scatter(x_points, y_points, color="red")

plt.show()

"""

x_points = [14.13, 17.31, 20.5, 23.68, 26.86, 30.04, 33.22, 36.4, 39.58, 42.75, 45.93, 49.11, 52.29, 55.48, 58.65, 61.84, 65.02, 68.21, 71.38, 74.56, 77.74, 80.93, 84.1, 87.28, 90.46, 93.65, 96.83, 100.01, 103.19, 106.38, 109.56, 112.75, 115.93, 119.1, 122.29, 125.47, 128.65, 131.84, 135.03, 138.2, 141.39, 144.57, 147.75, 150.94, 154.13, 157.31, 160.49, 163.67, 166.86, 170.04, 173.22, 176.41, 179.58, 182.76, 185.95, 189.13, 192.32, 195.5, 198.68, 201.87, 205.05, 208.22, 211.4, 214.59, 217.76, 220.95, 224.13, 227.32, 230.5, 233.68, 236.86, 240.05, 243.22, 246.41, 249.58, 252.76, 255.94, 259.12, 262.31, 265.5, 268.68, 271.87, 275.05, 278.23, 281.4, 284.57, 287.76, 290.93, 294.11, 297.3, 300.49, 303.67, 306.86, 310.03, 313.21, 316.39, 319.58, 322.76, 325.93, 329.11, 332.29, 335.48, 338.67, 341.84, 345.02, 348.21, 351.39, 354.57, 357.76, 360.94, 364.12, 367.31, 370.49, 373.68, 376.86, 380.05, 383.22, 386.4, 389.59, 392.77, 395.96, 399.13, 402.32, 405.51, 408.69, 411.88, 415.06, 418.24, 421.42, 424.6, 427.77, 430.96, 434.14, 437.32, 440.51, 443.69, 446.87, 450.05, 453.24, 456.42, 459.61, 462.79, 465.97, 469.15, 472.33, 475.51, 478.7, 481.88, 485.06, 488.25, 491.43, 494.61, 497.79, 500.98, 504.15, 507.34, 510.52, 513.71, 516.89, 520.08, 523.26, 526.45, 529.63, 532.82, 536.0, 539.19, 542.37, 545.55, 548.73, 551.91, 555.09, 558.27, 561.45, 564.63, 567.82, 571.0, 574.18, 577.36, 580.54, 583.71, 586.89, 590.08, 593.25, 596.43, 599.61, 602.79, 605.96, 609.14, 612.33, 615.51, 618.69, 621.87, 625.05, 628.22, 631.41, 634.6, 637.78, 640.96, 644.14, 647.33, 650.5, 653.68, 656.86, 660.04, 663.23, 666.41, 669.59, 672.77, 675.96, 679.13, 682.32, 685.5, 688.67, 691.84, 695.03, 698.2, 701.38, 704.55, 707.74, 710.9, 714.09, 717.27, 720.45, 723.63, 726.81, 729.98, 733.16, 736.34, 739.51, 742.69, 745.86, 749.03, 752.21, 755.4, 758.58, 761.76, 764.94, 768.12, 771.3, 774.48, 777.66, 780.84, 784.02, 787.2, 790.39, 793.57, 796.75, 799.93, 803.13, 806.3, 809.49, 812.67, 815.85, 819.04, 822.2, 825.39, 828.56, 831.75, 834.92, 838.11, 841.29, 844.48, 847.66, 850.84, 854.03, 857.21, 860.4, 863.58, 866.77, 869.95, 873.13, 876.31, 879.48, 882.67, 885.86, 889.04, 892.22, 895.4, 898.58, 901.76, 904.93, 908.11, 911.28, 914.46, 917.65, 920.83, 924.01, 927.19, 930.37, 933.55, 936.73, 939.91, 943.1, 946.28, 949.46, 952.64, 955.82, 959.0, 962.19, 965.38, 968.56, 971.75, 974.93, 978.12, 981.3, 984.48, 987.66, 990.83, 994.02, 997.2, 1000.38, 1003.56, 1006.75, 1009.93, 1013.11, 1016.3, 1019.48, 1022.66, 1025.85, 1029.03, 1032.22, 1035.4, 1038.57, 1041.76, 1044.94, 1048.12, 1051.31, 1054.49, 1057.68, 1060.85, 1064.04, 1067.22, 1070.4, 1073.58, 1076.76, 1079.94, 1083.12, 1086.3, 1089.48, 1092.67, 1095.84, 1099.02, 1102.2, 1105.39, 1108.57, 1111.75, 1114.93, 1118.12, 1121.31, 1124.48, 1127.66, 1130.85, 1134.03, 1137.21, 1140.4, 1143.59, 1146.77, 1149.95, 1153.13, 1156.32, 1159.5, 1162.69, 1165.87, 1169.05, 1172.23, 1175.42, 1178.6, 1181.79, 1184.97, 1188.15, 1191.34, 1194.53, 1197.71, 1200.9, 1204.08, 1207.26, 1210.44, 1213.62, 1216.79, 1219.97, 1223.15, 1226.33, 1229.51, 1232.7, 1235.88, 1239.06, 1242.24, 1245.42, 1248.61, 1251.79, 1254.98, 1258.17, 1261.35, 1264.54, 1267.72, 1270.9, 1274.08, 1277.26, 1280.44, 1283.63, 1286.82, 1290.0, 1293.18, 1296.37, 1299.54, 1302.72, 1305.9, 1309.1, 1312.28, 1315.47, 1318.65, 1321.84, 1325.02, 1328.21, 1331.39, 1334.57, 1337.75, 1340.93, 1344.12, 1347.3, 1350.48, 1353.67, 1356.85, 1360.02, 1363.21, 1366.39, 1369.57, 1372.75, 1375.94, 1379.12, 1382.3, 1385.48, 1388.68, 1391.86, 1395.04, 1398.21, 1401.39, 1404.57, 1407.76, 1410.94, 1414.12, 1417.3, 1420.49, 1423.67, 1426.85, 1430.03, 1433.22, 1436.39, 1439.58, 1442.76, 1445.95, 1449.13, 1452.31, 1455.48, 1458.67, 1461.85, 1465.04, 1468.22, 1471.41, 1474.59, 1477.78, 1480.96, 1484.14, 1487.33, 1490.51, 1493.69, 1496.87, 1500.05, 1503.23, 1506.41, 1509.59, 1512.77, 1515.95, 1519.13, 1522.32, 1525.5, 1528.67, 1531.85, 1535.03, 1538.21, 1541.4, 1544.58, 1547.76, 1550.94, 1554.12, 1557.31, 1560.49, 1563.67, 1566.85, 1570.03, 1573.2, 1576.39, 1579.57, 1582.75, 1585.93, 1589.12, 1592.3, 1595.48, 1598.66, 1601.84, 1605.02, 1608.2, 1611.38, 1614.56, 1617.74, 1620.92, 1624.11, 1627.29, 1630.47, 1633.65, 1636.83, 1640.01, 1643.19, 1646.37, 1649.56, 1652.74, 1655.92, 1659.09, 1662.28, 1665.47, 1668.64, 1671.83, 1675.01, 1678.18, 1681.37, 1684.55, 1687.74, 1690.92, 1694.1, 1697.28, 1700.46, 1703.65, 1706.83, 1710.01, 1713.2, 1716.38, 1719.56, 1722.74, 1725.92, 1729.1, 1732.29, 1735.47, 1738.64, 1741.83, 1745.01, 1748.19, 1751.37, 1754.55, 1757.73, 1760.91, 1764.09, 1767.27, 1770.46, 1773.63, 1776.82, 1780.01, 1783.18, 1786.37, 1789.55, 1792.73, 1795.91, 1799.09, 1802.27, 1805.45, 1808.64, 1811.82, 1814.99, 1818.17, 1821.35, 1824.53, 1827.71, 1830.89, 1834.08, 1837.25, 1840.43, 1843.61, 1846.78, 1849.96, 1853.14, 1856.32, 1859.5, 1862.68, 1865.86, 1869.04, 1872.22, 1875.4, 1878.58, 1881.77, 1884.95, 1888.13, 1891.32, 1894.49, 1897.67, 1900.86, 1904.04, 1907.22, 1910.41, 1913.59, 1916.78, 1919.96, 1923.14, 1926.33, 1929.51, 1932.69, 1935.87, 1939.04, 1942.23, 1945.41, 1948.59, 1951.77, 1954.95, 1958.14, 1961.32, 1964.5, 1967.68, 1970.86, 1974.04, 1977.23, 1980.41, 1983.6, 1986.78, 1989.96, 1993.15, 1996.33, 1999.52, 2002.71, 2005.89, 2009.06, 2012.25, 2015.43, 2018.61, 2021.78, 2024.97, 2028.14, 2031.33, 2034.51, 2037.69, 2040.87, 2044.06, 2047.23, 2050.42, 2053.59, 2056.78, 2059.95, 2063.14, 2066.32, 2069.49, 2072.68, 2075.85, 2079.03, 2082.2, 2085.39, 2088.57, 2091.76, 2094.94, 2098.12, 2101.3, 2104.48, 2107.67, 2110.84, 2114.02, 2117.21, 2120.39, 2123.58, 2126.76, 2129.94, 2133.12, 2136.3, 2139.49, 2142.68, 2145.85, 2149.03, 2152.2, 2155.38, 2158.55, 2161.74, 2164.93, 2168.1, 2171.28, 2174.47, 2177.65, 2180.83, 2184.02, 2187.19, 2190.37, 2193.55, 2196.74, 2199.92, 2203.09, 2206.28, 2209.46, 2212.64, 2215.83, 2219.01, 2222.19, 2225.38, 2228.57, 2231.74, 2234.93, 2238.11, 2241.29, 2244.48, 2247.66, 2250.83, 2254.01, 2257.2, 2260.37, 2263.56, 2266.74, 2269.92, 2273.1, 2276.28, 2279.46, 2282.64, 2285.83, 2289.01, 2292.19, 2295.37, 2298.56, 2301.74, 2304.92, 2308.1, 2311.29, 2314.47, 2317.66, 2320.83, 2324.01, 2327.19, 2330.37, 2333.56, 2336.73, 2339.92, 2343.09, 2346.28, 2349.46, 2352.64, 2355.82, 2359.0, 2362.18, 2365.36, 2368.54, 2371.73, 2374.91, 2378.09, 2381.28, 2384.46, 2387.64, 2390.82, 2394.0, 2397.18, 2400.36, 2403.53, 2406.72, 2409.9, 2413.07, 2416.26, 2419.45, 2422.63, 2425.82, 2428.99, 2432.17, 2435.35, 2438.53, 2441.72, 2444.9, 2448.07, 2451.25, 2454.43, 2457.6, 2460.79, 2463.97, 2467.15, 2470.32, 2473.51, 2476.69, 2479.87, 2483.05, 2486.23, 2489.41, 2492.59, 2495.78, 2498.96, 2502.14, 2505.32, 2508.5, 2511.68, 2514.86, 2518.04, 2521.22, 2524.41, 2527.58, 2530.77, 2533.95, 2537.13, 2540.32, 2543.5, 2546.68, 2549.87, 2553.04, 2556.23, 2559.41, 2562.59, 2565.78, 2568.96, 2572.14, 2575.32, 2578.51, 2581.68, 2584.87, 2588.04, 2591.22, 2594.41, 2597.59, 2600.77, 2603.95, 2607.14, 2610.31, 2613.5, 2616.69, 2619.87, 2623.06, 2626.24, 2629.42, 2632.6, 2635.78, 2638.96, 2642.14, 2645.32, 2648.5, 2651.68, 2654.86, 2658.05, 2661.22, 2664.41, 2667.58, 2670.76, 2673.93, 2677.12, 2680.3, 2683.49, 2686.66, 2689.84, 2693.02, 2696.2, 2699.38, 2702.57, 2705.75, 2708.93, 2712.11, 2715.3, 2718.49, 2721.68, 2724.85, 2728.03, 2731.22, 2734.39, 2737.57, 2740.76, 2743.93, 2747.12, 2750.3, 2753.48, 2756.66, 2759.84, 2763.02, 2766.2, 2769.38, 2772.55, 2775.74, 2778.91, 2782.08, 2785.26, 2788.45, 2791.64, 2794.82, 2798.0, 2801.18, 2804.36, 2807.54, 2810.72, 2813.9, 2817.08, 2820.26, 2823.45, 2826.63, 2829.8, 2832.99, 2836.17, 2839.36, 2842.54, 2845.72, 2848.91, 2852.09, 2855.27, 2858.45, 2861.63, 2864.82, 2867.99, 2871.18, 2874.35, 2877.53, 2880.72, 2883.9, 2887.08, 2890.26, 2893.45, 2896.63, 2899.82, 2902.99, 2906.18, 2909.36, 2912.55, 2915.73, 2918.9, 2922.09, 2925.26, 2928.44, 2931.63, 2934.82, 2937.99, 2941.17, 2944.35, 2947.53, 2950.72, 2953.91, 2957.08, 2960.26, 2963.45, 2966.62, 2969.81, 2972.98, 2976.16, 2979.34, 2982.53, 2985.72, 2988.9, 2992.08, 2995.26, 2998.45, 3001.63, 3004.82, 3008.01, 3011.19, 3014.37, 3017.56, 3020.74, 3023.92, 3027.1, 3030.28, 3033.47, 3036.65, 3039.84, 3043.02, 3046.2, 3049.38, 3052.56, 3055.75, 3058.93, 3062.11, 3065.3, 3068.48, 3071.66, 3074.85, 3078.03, 3081.21, 3084.39, 3087.57, 3090.74, 3093.93, 3097.11, 3100.28, 3103.47, 3106.65, 3109.82, 3113.0, 3116.2, 3119.37, 3122.56, 3125.73, 3128.93, 3132.1, 3135.28, 3138.46, 3141.65, 3144.83, 3148.01, 3151.2, 3154.37, 3157.56, 3160.73, 3163.92, 3167.1, 3170.28, 3173.46, 3176.64, 3179.82, 3183.01, 3186.19, 3189.37, 3192.56, 3195.74, 3198.93, 3202.11, 3205.29, 3208.48, 3211.66, 3214.84, 3218.02, 3221.21, 3224.39, 3227.56, 3230.75, 3233.93, 3237.11, 3240.29, 3243.48, 3246.65, 3249.83, 3253.01, 3256.2, 3259.39, 3262.56, 3265.74, 3268.94, 3272.12, 3275.3, 3278.48, 3281.67, 3284.85, 3288.03, 3291.21, 3294.39, 3297.57, 3300.75, 3303.93, 3307.12, 3310.3, 3313.48, 3316.67, 3319.85, 3323.04, 3326.21, 3329.39, 3332.57, 3335.76, 3338.93, 3342.12, 3345.29, 3348.48, 3351.67, 3354.86, 3358.03, 3361.21, 3364.39, 3367.57, 3370.76, 3373.94, 3377.12, 3380.31, 3383.49, 3386.68, 3389.86, 3393.03, 3396.22, 3399.38, 3402.57, 3405.75, 3408.93, 3412.11, 3415.29, 3418.48, 3421.66, 3424.85, 3428.02, 3431.21, 3434.39, 3437.57, 3440.74, 3443.93, 3447.11, 3450.3, 3453.48, 3456.66, 3459.84, 3463.02, 3466.2, 3469.38, 3472.57, 3475.75, 3478.93, 3482.12, 3485.29, 3488.47, 3491.66, 3494.84, 3498.02, 3501.21, 3504.39, 3507.56, 3510.74, 3513.92, 3517.11, 3520.29, 3523.47, 3526.64, 3529.83, 3533.01, 3536.2, 3539.39, 3542.57, 3545.75, 3548.94, 3552.12, 3555.29, 3558.47, 3561.65, 3564.84, 3568.02]
y_points = [100.15, 89.62, 81.29, 63.62, 70.29, 66.02, 62.47, 59.07, 56.74, 55.56, 64.82, 63.05, 60.77, 57.91, 56.15, 53.88, 51.45, 49.82, 48.03, 46.52, 44.63, 42.86, 41.86, 41.16, 40.75, 39.95, 38.92, 38.15, 37.48, 36.74, 36.03, 35.2, 34.48, 33.73, 32.91, 32.55, 32.31, 31.95, 31.38, 30.52, 29.91, 29.62, 29.24, 28.91, 28.68, 28.68, 28.36, 27.88, 27.44, 27.09, 26.88, 26.57, 26.15, 25.95, 25.73, 25.38, 25.02, 24.7, 24.53, 24.28, 24.0, 23.75, 23.43, 23.27, 23.13, 22.74, 22.43, 22.21, 21.98, 21.8, 21.75, 21.57, 21.4, 21.21, 21.09, 20.86, 20.86, 20.68, 20.58, 20.48, 20.25, 20.03, 19.91, 19.76, 19.56, 19.39, 19.36, 19.23, 19.1, 19.02, 18.93, 18.81, 18.63, 18.52, 18.43, 18.27, 18.06, 17.93, 17.86, 17.76, 17.62, 17.44, 17.32, 17.19, 17.06, 16.98, 16.9, 16.84, 16.77, 16.71, 16.56, 16.45, 16.37, 16.27, 16.23, 16.15, 16.06, 16.03, 15.98, 15.98, 15.92, 15.75, 15.54, 15.45, 15.34, 15.24, 15.17, 15.11, 15.09, 15.08, 15.05, 14.97, 14.75, 14.58, 14.57, 14.48, 14.36, 14.31, 14.31, 14.27, 14.22, 14.2, 14.19, 14.09, 14.09, 13.88, 13.75, 13.68, 13.62, 13.59, 13.62, 13.62, 13.62, 13.59, 13.54, 13.48, 13.4, 13.4, 13.32, 13.27, 13.23, 13.18, 13.08, 12.97, 12.89, 12.86, 12.82, 12.82, 12.8, 12.69, 12.49, 12.44, 12.41, 12.39, 12.39, 12.37, 12.34, 12.29, 12.23, 12.19, 12.16, 12.07, 12.07, 11.98, 11.96, 11.9, 11.81, 11.81, 11.75, 11.69, 11.65, 11.61, 11.61, 11.61, 11.56, 11.52, 11.53, 11.46, 11.42, 11.42, 11.42, 11.38, 11.38, 11.29, 11.23, 11.2, 11.16, 11.11, 10.99, 10.88, 10.83, 10.77, 10.77, 10.77, 10.77, 10.73, 10.71, 10.71, 10.71, 10.71, 10.7, 10.66, 10.57, 10.5, 10.44, 10.44, 10.39, 10.39, 10.33, 10.3, 10.27, 10.27, 10.25, 10.22, 10.22, 10.22, 10.14, 10.07, 10.06, 10.06, 10.05, 10.04, 10.02, 10.02, 9.97, 9.92, 9.82, 9.92, 9.82, 9.72, 9.66, 9.65, 9.65, 9.61, 9.54, 9.5, 9.5, 9.49, 9.5, 9.5, 9.49, 9.49, 9.45, 9.4, 9.4, 9.4, 9.38, 9.35, 9.27, 9.18, 9.18, 9.18, 9.18, 9.18, 9.18, 9.14, 9.13, 9.13, 9.09, 9.04, 9.0, 8.97, 8.95, 8.95, 8.95, 8.91, 8.89, 8.92, 8.89, 8.92, 8.92, 8.89, 8.89, 8.89, 8.85, 8.79, 8.75, 8.71, 8.64, 8.64, 8.7, 8.64, 8.6, 8.56, 8.52, 8.57, 8.52, 8.52, 8.5, 8.49, 8.46, 8.43, 8.46, 8.42, 8.45, 8.41, 8.43, 8.41, 8.38, 8.34, 8.34, 8.38, 8.34, 8.25, 8.2, 8.18, 8.09, 8.09, 8.06, 8.06, 8.06, 8.05, 8.03, 8.0, 7.93, 7.95, 7.95, 7.94, 7.89, 7.86, 7.86, 7.83, 7.79, 7.86, 7.83, 7.83, 7.78, 7.74, 7.73, 7.73, 7.71, 7.71, 7.71, 7.71, 7.68, 7.63, 7.63, 7.56, 7.56, 7.56, 7.56, 7.56, 7.5, 7.44, 7.44, 7.41, 7.41, 7.41, 7.41, 7.41, 7.43, 7.46, 7.46, 7.46, 7.43, 7.38, 7.3, 7.3, 7.26, 7.26, 7.26, 7.21, 7.18, 7.12, 7.12, 7.12, 7.12, 7.15, 7.12, 7.12, 7.12, 7.17, 7.2, 7.2, 7.17, 7.17, 7.17, 7.1, 7.1, 7.06, 7.06, 7.04, 7.01, 7.01, 7.01, 7.03, 6.97, 6.97, 6.95, 6.95, 6.95, 6.93, 6.89, 6.87, 6.82, 6.82, 6.82, 6.87, 6.82, 6.87, 6.87, 6.82, 6.88, 6.88, 6.86, 6.86, 6.86, 6.76, 6.74, 6.72, 6.72, 6.72, 6.71, 6.72, 6.71, 6.7, 6.7, 6.71, 6.69, 6.66, 6.65, 6.65, 6.68, 6.64, 6.6, 6.63, 6.6, 6.54, 6.6, 6.55, 6.55, 6.55, 6.55, 6.53, 6.53, 6.53, 6.58, 6.58, 6.58, 6.58, 6.58, 6.58, 6.47, 6.43, 6.46, 6.4, 6.4, 6.38, 6.32, 6.32, 6.31, 6.32, 6.29, 6.29, 6.27, 6.29, 6.29, 6.27, 6.27, 6.27, 6.25, 6.25, 6.26, 6.22, 6.22, 6.21, 6.21, 6.14, 6.16, 6.18, 6.18, 6.09, 6.09, 6.09, 6.06, 6.11, 6.11, 6.11, 6.1, 6.08, 6.08, 6.08, 6.08, 6.08, 6.08, 6.01, 5.93, 5.89, 5.89, 5.91, 5.91, 5.89, 5.85, 5.89, 5.89, 5.95, 5.95, 5.95, 5.9, 5.9, 5.84, 5.85, 5.92, 5.85, 5.85, 5.83, 5.83, 5.85, 5.87, 5.85, 5.81, 5.75, 5.75, 5.76, 5.76, 5.76, 5.76, 5.75, 5.75, 5.75, 5.75, 5.76, 5.76, 5.75, 5.75, 5.79, 5.79, 5.79, 5.78, 5.78, 5.74, 5.74, 5.72, 5.72, 5.72, 5.62, 5.51, 5.56, 5.49, 5.56, 5.62, 5.62, 5.59, 5.59, 5.58, 5.58, 5.59, 5.59, 5.59, 5.58, 5.58, 5.5, 5.45, 5.39, 5.39, 5.45, 5.45, 5.45, 5.52, 5.54, 5.51, 5.54, 5.54, 5.54, 5.55, 5.55, 5.5, 5.4, 5.39, 5.39, 5.39, 5.34, 5.38, 5.34, 5.34, 5.33, 5.32, 5.32, 5.32, 5.31, 5.28, 5.28, 5.28, 5.25, 5.26, 5.26, 5.26, 5.26, 5.21, 5.21, 5.21, 5.21, 5.16, 5.21, 5.2, 5.22, 5.21, 5.18, 5.21, 5.22, 5.22, 5.21, 5.21, 5.19, 5.18, 5.14, 5.14, 5.18, 5.12, 5.12, 5.0, 5.11, 5.11, 5.11, 5.14, 5.14, 5.14, 5.08, 5.06, 4.97, 4.97, 4.95, 4.95, 4.97, 4.97, 4.97, 4.97, 4.97, 4.97, 4.97, 5.0, 5.0, 5.0, 5.02, 5.02, 5.02, 5.02, 5.03, 5.03, 5.06, 5.06, 5.11, 5.06, 5.06, 5.03, 5.03, 5.0, 4.96, 5.0, 4.96, 4.95, 4.95, 4.95, 4.92, 4.88, 4.91, 4.91, 4.93, 4.9, 4.88, 4.9, 4.88, 4.8, 4.87, 4.87, 4.87, 4.84, 4.81, 4.81, 4.81, 4.81, 4.84, 4.85, 4.87, 4.91, 4.87, 4.91, 4.91, 4.87, 4.87, 4.88, 4.87, 4.87, 4.84, 4.78, 4.79, 4.76, 4.79, 4.79, 4.76, 4.76, 4.76, 4.76, 4.71, 4.72, 4.72, 4.68, 4.64, 4.67, 4.67, 4.67, 4.68, 4.68, 4.7, 4.69, 4.63, 4.69, 4.71, 4.71, 4.74, 4.77, 4.77, 4.76, 4.72, 4.72, 4.72, 4.68, 4.62, 4.53, 4.53, 4.51, 4.53, 4.54, 4.53, 4.53, 4.54, 4.54, 4.53, 4.53, 4.5, 4.49, 4.49, 4.49, 4.46, 4.45, 4.45, 4.45, 4.46, 4.52, 4.54, 4.54, 4.51, 4.46, 4.51, 4.53, 4.51, 4.49, 4.49, 4.49, 4.44, 4.47, 4.47, 4.47, 4.45, 4.45, 4.42, 4.44, 4.44, 4.44, 4.44, 4.44, 4.43, 4.43, 4.43, 4.41, 4.41, 4.39, 4.41, 4.41, 4.41, 4.41, 4.37, 4.41, 4.43, 4.43, 4.43, 4.45, 4.53, 4.45, 4.45, 4.32, 4.32, 4.32, 4.2, 4.18, 4.31, 4.23, 4.23, 4.25, 4.17, 4.25, 4.25, 4.18, 4.25, 4.25, 4.25, 4.28, 4.18, 4.19, 4.19, 4.19, 4.23, 4.23, 4.21, 4.21, 4.21, 4.18, 4.21, 4.23, 4.26, 4.25, 4.22, 4.22, 4.25, 4.3, 4.38, 4.43, 4.38, 4.3, 4.25, 4.22, 4.25, 4.31, 4.25, 4.25, 4.22, 4.2, 4.22, 4.2, 4.2, 4.2, 4.17, 4.17, 4.11, 4.03, 4.11, 4.11, 4.11, 4.06, 4.06, 4.04, 4.04, 4.04, 4.14, 4.14, 4.13, 4.11, 4.09, 4.11, 4.11, 4.11, 4.09, 4.09, 4.08, 4.08, 4.08, 4.09, 4.09, 4.08, 4.09, 4.12, 4.12, 4.11, 4.11, 4.11, 4.11, 4.11, 4.12, 4.13, 4.12, 4.08, 4.09, 4.12, 4.15, 4.12, 4.14, 4.12, 4.1, 4.07, 4.07, 4.07, 4.02, 3.95, 3.95, 3.93, 3.93, 4.02, 3.93, 3.93, 4.05, 4.0, 4.06, 4.06, 3.99, 4.03, 3.99, 3.92, 3.99, 3.92, 3.85, 3.88, 3.83, 3.83, 3.87, 3.79, 3.87, 3.95, 3.91, 3.95, 3.95, 3.96, 3.96, 3.92, 3.92, 3.96, 3.92, 3.87, 3.84, 3.84, 3.82, 3.82, 3.82, 3.88, 3.84, 3.79, 3.84, 3.8, 3.87, 3.87, 3.88, 3.88, 3.88, 3.86, 3.81, 3.81, 3.81, 3.87, 3.87, 3.87, 3.88, 3.8, 3.86, 3.86, 3.86, 3.87, 3.86, 3.81, 3.75, 3.75, 3.71, 3.75, 3.71, 3.73, 3.81, 3.81, 3.87, 3.88, 3.88, 3.87, 3.88, 3.87, 3.9, 3.87, 3.82, 3.7, 3.65, 3.61, 3.61, 3.61, 3.58, 3.6, 3.6, 3.6, 3.6, 3.63, 3.71, 3.79, 3.83, 3.84, 3.84, 3.88, 3.84, 3.88, 3.88, 3.84, 3.81, 3.79, 3.74, 3.71, 3.71, 3.71, 3.69, 3.64, 3.64, 3.64, 3.68, 3.71, 3.66, 3.7, 3.7, 3.65, 3.7, 3.7, 3.69, 3.69, 3.65, 3.62, 3.62, 3.62, 3.65, 3.69, 3.65, 3.67, 3.63, 3.63, 3.67, 3.71, 3.71, 3.69, 3.69, 3.69, 3.7, 3.7, 3.7, 3.63, 3.63, 3.63, 3.69, 3.69, 3.63, 3.58, 3.52, 3.52, 3.56, 3.56, 3.56, 3.56, 3.56, 3.56, 3.58, 3.58, 3.59, 3.58, 3.59, 3.59, 3.59, 3.54, 3.49, 3.5, 3.5, 3.5, 3.5, 3.49, 3.43, 3.49, 3.43, 3.49, 3.45, 3.46, 3.38, 3.45, 3.45, 3.45, 3.51, 3.45, 3.48, 3.48, 3.51, 3.48, 3.48, 3.44, 3.44, 3.44, 3.4, 3.44, 3.4, 3.4, 3.38, 3.4, 3.42, 3.42, 3.38, 3.42, 3.42, 3.42, 3.48, 3.42, 3.42, 3.4, 3.37, 3.37, 3.41, 3.41, 3.45, 3.44, 3.44, 3.44, 3.45]

# x_points = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
# y_points = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

interval = 20
start_time = 0
t_min = start_time
t_max = start_time + interval

absolute_max_time = int(x_points[len(x_points)-1])

result = []
time_list = []
for t in range(int(interval/2), absolute_max_time-int(interval/2), 5):
    time_list.append(t)

x_pos_min = 0
x_pos_max = 0
for time_now in time_list:
    t_min = time_now - interval/2
    t_max = time_now + interval/2

    # find x_point index for t_min
    while t_min > x_points[x_pos_min]:
        x_pos_min += 1

    # find x_point index for t_max
    while t_max > x_points[x_pos_max]:
        x_pos_max += 1

    # get data sublist based on interval
    data_sublist = []
    for position in range(x_pos_min, x_pos_max+1):
        data_sublist.append(y_points[position])

    print(data_sublist)
    # get mean value of data sublist and append to result list
    result.append(round(statistics.mean(data_sublist), 2))

print(time_list)
print(result)

plt.plot(time_list, result)
plt.scatter(x_points, y_points, color="red")

plt.show()
